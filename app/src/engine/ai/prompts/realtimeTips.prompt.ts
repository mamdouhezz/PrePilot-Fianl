/**
 * @file Builds the prompt for generating real-time validation tips.
 * @author Crafted By Jedar-Agency.com Tech Team
 */

interface TipGenerationIssue {
    field: string;
    context: any;
}

export function buildRealtimeTipsPrompt(issues: TipGenerationIssue[]): string {
    return `
  أنت مستشار تسويق خبير ومنطقي في السعودية. مهمتك هي تحليل المشاكل التالية في خطة حملة إعلانية وتقديم نصائح ("tips") بلهجة سعودية بيضاء، تكون مبنية على المنطق والسببية.
  
  المشاكل المرصودة:
  \`\`\`json
  ${JSON.stringify(issues, null, 2)}
  \`\`\`

  المطلوب:
  اكتب ردًا بصيغة JSON يحتوي على نصائح مفيدة. يجب أن يكون مفتاح كل نصيحة هو اسم الحقل (e.g., 'budget', 'seasons', 'platforms').
  - لكل نصيحة، اشرح **لماذا** يوجد مشكلة وما هو **الأثر** المترتب عليها، ثم قدم **اقتراحًا منطقيًا**.
  - كن مباشرًا وواضحًا. لا تتجاوز جملتين لكل نصيحة.
  - إذا لم يكن هناك مشكلة لحقل معين، لا تقم بتضمينه في الرد.

  مثال على الرد المطلوب:
  \`\`\`json
  {
    "budget": "الميزانية الحالية تعتبر منخفضة لمجال العقارات، وهذا قد يؤثر على جودة النتائج. ننصح بالبدء بـ 50,000 ريال على الأقل لضمان وصول كافٍ.",
    "platforms": "منصة تيك توك عادة لا تكون الخيار الأول لمجال الخدمات المالية. للحصول على عملاء محتملين أكثر جدية، ركز ميزانيتك على لينكدإن وبحث جوجل."
  }
  \`\`\`
  `;
}


