# ๐ณ ุดุฌุฑุฉ ูุนูุงุฑูุฉ ุชุทุจูู PrePilot v3

## ๐ ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ุงูููู ูุญุชูู ุนูู ุดุฌุฑุฉ ุดุงููุฉ ููุญุฏุซุฉ ููุนูุงุฑูุฉ ุชุทุจูู PrePilot v3 ูุนูุงูุงุช ุงูููููุงุช ุจุจุนุถูุง ุงูุจุนุถุ ููุง ูุนูุณ ุงูุญุงูุฉ ุงูุญุงููุฉ ููุชุทุจูู ุจุฏูุฉ.

---

## ๐๏ธ ุงููููู ุงูุฃุณุงุณู ููุชุทุจูู

```
prepilot-v3/
โโโ ๐ app/                          # ุงููุฌูุฏ ุงูุฑุฆูุณู ููุชุทุจูู
โ   โโโ ๐ฏ App.tsx                   # ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ ููุชุทุจูู ูููุณู ุงูุตูุญุงุช
โ   โโโ ๐ index.tsx                 # ููุทุฉ ุงูุชุญููู ุงูุฃุณุงุณูุฉ ูู React
โ   โ
โ   โโโ ๐ pages/                    # ุตูุญุงุช ุงูุชุทุจูู ุงูุฑุฆูุณูุฉ (5 ุตูุญุงุช)
โ   โ   โโโ ๐ HomePage.tsx          # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุงูุชุฑุญูุจูุฉ
โ   โ   โโโ ๐ฎ PlaygroundPage.tsx    # ุตูุญุฉ ุฅูุดุงุก ูุชุนุฏูู ุงูุญููุงุช
โ   โ   โโโ โณ ProcessingPage.tsx    # ุดุงุดุฉ ุงูุงูุชุธุงุฑ ุฃุซูุงุก ูุนุงูุฌุฉ ุงูุญููุฉ
โ   โ   โโโ ๐ ResultsDashboardPage.tsx # ููุญุฉ ุนุฑุถ ุงููุชุงุฆุฌ ูุงูุชูุงุฑูุฑ
โ   โ   โโโ ๐ค ExportCenterPage.tsx  # ูุฑูุฒ ุงูุชุตุฏูุฑ ูุงููุดุฑ
โ   โ
โ   โโโ ๐ components/               # ููููุงุช React ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู (20+ ูููู ุฑุฆูุณู)
โ   โ   โโโ ๐ ui/                   # ููููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฃุณุงุณูุฉ (15+ ูููู)
โ   โ   โ   โโโ ๐จ Button.tsx, Card.tsx, Icon.tsx, Tabs.tsx, etc.
โ   โ   โโโ ๐ layout/               # ููููุงุช ุงูุชุฎุทูุท ุงูุนุงู (3 ููููุงุช)
โ   โ   โ   โโโ ๐จ DashboardLayout.tsx, Header.tsx, Sidebar.tsx
โ   โ   โโโ ๐ results/               # ููููุงุช ุฎุงุตุฉ ุจููุญุฉ ุนุฑุถ ุงููุชุงุฆุฌ (5 ููููุงุช)
โ   โ   โ   โโโ ๐จ ResultsLayout.tsx, ResultsSidebar.tsx, ResultsToolbar.tsx, etc.
โ   โ   โโโ ๐ report/               # ููููุงุช ุนุฑุถ ุฃูุณุงู ุงูุชูุฑูุฑ (15+ ูููู)
โ   โ   โ   โโโ ๐ StrategicSummary.tsx, MediaPlan.tsx, KPISnippets.tsx, etc.
โ   โ   โโโ ๐ export/               # ููููุงุช ูุฑูุฒ ุงูุชุตุฏูุฑ (4 ููููุงุช)
โ   โ   โ   โโโ ๐ ReportList.tsx, PublishingHub.tsx, WorkflowQueuePanel.tsx, etc.
โ   โ   โโโ ๐ chat/                 # ููููุงุช ุงููุญุงุฏุซุฉ ูุน ุงูุฐูุงุก ุงูุงุตุทูุงุนู
โ   โ       โโโ ๐ค Chatbot.tsx
โ   โ
โ   โโโ ๐ engine/                   # ูุญุฑู ุงูุชุทุจูู ุงููุนูุงุฑู ุงูุฌุฏูุฏ
โ   โ   โโโ ๐ฏ index.ts              # ููุทุฉ ุงูุฏุฎูู ุงูุนุงูุฉ ูููุญุฑู
โ   โ   โโโ ๐ core/                 # ุงููุญุฑู ุงูุฃุณุงุณู
โ   โ   โ   โโโ ๐ฏ prepilot.engine.ts # ุงูููุณู ุงูุฑุฆูุณู (runCampaign)
โ   โ   โโโ ๐ modules/              # ุงููุญุฏุงุช ุงููุชุฎุตุตุฉ
โ   โ   โ   โโโ ๐ kpiCalculator.ts  # ุญุณุงุจ ูุคุดุฑุงุช ุงูุฃุฏุงุก
โ   โ   โ   โโโ ๐ฐ budgetAllocator.ts # ุชูุฒูุน ุงูููุฒุงููุฉ
โ   โ   โ   โโโ ๐ข competitorAnalysis.ts # ุชุญููู ุงูููุงูุณูู
โ   โ   โโโ ๐ validation/           # ุทุจูุฉ ุงูุชุญูู
โ   โ   โ   โโโ ๐ rules.ts          # ููุงุนุฏ ุงูุชุญูู ุงูุฃุณุงุณูุฉ
โ   โ   โ   โโโ ๐ก๏ธ guardrails.ts     # ุญูุงุฌุฒ ุงูุชุญูู ุงููุชูุฏูุฉ
โ   โ   โ   โโโ โ๏ธ preflight.ts      # ุงูุชุญูู ุงููุณุจู
โ   โ   โโโ ๐ ai/                   # ูุญุฏุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุนูุงุฑูุฉ
โ   โ   โ   โโโ ๐ prompts.ts        # ุจูุงุก ุงููุตูุต
โ   โ   โ   โโโ ๐ค generators.ts     # ูููุฏุงุช ุงููุญุชูู
โ   โ   โ   โโโ ๐ง summaryGenerator.ts # ูููุฏ ุงูููุฎุตุงุช (ูุฏูู)
โ   โ   โโโ ๐ benchmarks/           # ูุญุฏุงุช ููุงุฑูุฉ ุงูุฃุฏุงุก
โ   โ   โ   โโโ ๐ compareWithMarket.ts
โ   โ   โโโ ๐ beyondBudget/         # ููุทู ุดุฑุญ ุงูููุฒุงููุฉ ููุดุงุฑูุชู
โ   โ   โ   โโโ ๐ก generateReasoning.ts, shareUtils.ts
โ   โ   โโโ ๐ beyondKPIs/           # ููุทู ุดุฑุญ ุงููุคุดุฑุงุช ููุดุงุฑูุชู
โ   โ   โ   โโโ ๐ก generateExplanation.ts, shareUtils.ts
โ   โ   โโโ ๐ data/                 # ุงูุจูุงูุงุช ุงููุฑุฌุนูุฉ ุงูุซุงุจุชุฉ
โ   โ   โ   โโโ ๐ *.ts (15+ ููู ุจูุงูุงุช)
โ   โ   โโโ ๐ explainability/       # ูุญุฏุงุช ุดุฑุญ ุงููุชุงุฆุฌ
โ   โ   โ   โโโ ๐ก generateExplanation.ts, generateReasoning.ts, etc.
โ   โ   โโโ ๐ growth/               # ููุทู ููุน ุงูููู ูุชูุชููุงุชู
โ   โ   โ   โโโ ๐ funnelMath.ts, generateGrowthTactics.ts, etc.
โ   โ   โโโ ๐ kpi/                  # ููุทู ุญุณุงุจ ูุนุฑุถ ุงููุคุดุฑุงุช (ูุฏูู)
โ   โ   โ   โโโ ๐ kpiCalculator.ts
โ   โ   โโโ ๐ mediaPlan/            # ููุทู ุงูุฎุทุฉ ุงูุฅุนูุงููุฉ
โ   โ   โ   โโโ ๐ mediaPlanLogic.ts
โ   โ   โโโ ๐ recommendations/      # ููุทู ุชูููุฏ ุงูุชูุตูุงุช
โ   โ       โโโ ๐ก generateRecommendations.ts, shareUtils.ts
โ   โ
โ   โโโ <h4>This folder is empty.</h4>
โ   โ
โ   โโโ ๐ services/                 # ุงูุฎุฏูุงุช ุงููุฑูุฒูุฉ
โ   โ   โโโ ๐ค aiClient.ts           # ุฅุนุฏุงุฏ ุนููู Gemini
โ   โ   โโโ ๐ค geminiService.ts      # ูุธุงุฆู ูุณุงุนุฏุฉ ููุชูุงุนู ูุน Gemini
โ   โ   โโโ โ๏ธ runtimeConfig.ts      # ุฅุฏุงุฑุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โ   โ   โโโ ๐ export/               # ูุญุฏุงุช ุงูุชุตุฏูุฑ ุญุณุจ ุงูุตูุบุฉ
โ   โ       โโโ ๐ exportManager.ts, exportToXLS.ts, etc. (6 ูููุงุช)
โ   โ
โ   โโโ ๐ stores/                   # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ (Zustand)
โ   โ   โโโ ๐ช reportStore.ts        # ูุชุฌุฑ ุจูุงูุงุช ุงูุชูุฑูุฑ ุงูุญุงูู
โ   โ   โโโ ๐ช exportStore.ts        # ูุชุฌุฑ ุงูุชูุงุฑูุฑ ุงููุญููุธุฉ ูุณูุฑ ุงูุนูู
โ   โ
โ   โโโ ๐ types/                    # ุชุนุฑููุงุช TypeScript
โ   โ   โโโ ๐ types.ts, export.ts, etc. (6 ูููุงุช)
โ   โ
โ   โโโ ๐ constants/                # ุงูุซูุงุจุช
โ       โโโ ๐ constants.ts          # ุงูุซูุงุจุช ุงูุฑุฆูุณูุฉ (ููุตุงุชุ ุตูุงุนุงุชุ ุฅูุฎ)
โ       โโโ ๐ engagingMessages.ts   # ุฑุณุงุฆู ุดุงุดุฉ ุงููุนุงูุฌุฉ
โ
โโโ ๐ package.json                  # ุชุจุนูุงุช ุงููุดุฑูุน
โโโ ๐ tsconfig.json                 # ุฅุนุฏุงุฏุงุช TypeScript
โโโ ๐ index.html                    # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ HTML
โโโ ๐ node_modules/                 # ุงูุชุจุนูุงุช ุงููุซุจุชุฉ
```

---

## ๐ ุงูุนูุงูุงุช ูุงูุชุฏูู

### 1. **ุงูุชุฏูู ุงูุฑุฆูุณู ููุชุทุจูู**
`App.tsx` ูุนูู ูููุณู ุฑุฆูุณูุ ุญูุซ ูุนุฑุถ ุงูุตูุญุงุช ุจูุงุกู ุนูู ุงูุญุงูุฉ ุงูุญุงููุฉ (`currentPage`).
```
HomePage โ PlaygroundPage โ onGeneratePlan() in App.tsx โ ProcessingPage โ ResultsDashboardPage
```
- **`App.tsx`** ูุณุชุฏุนู **`engine.runCampaign()`** (ูู ุงูููุทุฉ ุงูุฌุฏูุฏุฉ `engine/index.ts`) ููุชุนุงูู ูุน ุงูุญุงูุฉ ุจูู ุงูุตูุญุงุช.

### 2. **ูุญุฑู ุงูุชุทุจูู ุงููุนูุงุฑู ุงูุฌุฏูุฏ (Modular Engine)**
- **`core/prepilot.engine.ts`** ูู ุงูููุณู ุงูุฑุฆูุณู ุงูุฌุฏูุฏ ุงูุฐู ูุฏูุฑ ุณูุฑ ุงูุนูู ุงููุนูุงุฑู.
- **`modules/`** ูุญุชูู ุนูู ุงููุญุฏุงุช ุงููุชุฎุตุตุฉ: `kpiCalculator`, `budgetAllocator`, `competitorAnalysis`.
- **`validation/`** ุทุจูุฉ ุงูุชุญูู ุงููุนูุงุฑูุฉ: `rules`, `guardrails`, `preflight`.
- **`ai/`** ูุญุฏุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุนูุงุฑูุฉ: `prompts`, `generators`.
- **`index.ts`** ููุทุฉ ุงูุฏุฎูู ุงูุนุงูุฉ ุงูุชู ุชุตุฏุฑ ุงููุงุฌูุฉ ุงูุจุฑูุฌูุฉ ุงููุธููุฉ.

### 3. **ูุธุงู ุงูุชุตุฏูุฑ ูุงููุดุฑ**
- **ูู ูุนุฏ ูุธุงููุง ูููุตูุงู** ุจูููุงุช `queueManager` ู`statusTracker`. ุชู ุฏูุฌู ุจุงููุงูู ูู **`exportStore.ts`**.
- **`ExportCenterPage`** ู**`ResultsDashboardPage`** ุชุชูุงุนู ูุน `exportStore` ูุฅุถุงูุฉ ููุงู ุฅูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ.
- **`exportStore`** ูุฏูุฑ ูุงุฆูุฉ ุงูุงูุชุธุงุฑุ ููุนุงูุฌ ุงูููุงู ุจุดูู ุบูุฑ ูุชุฒุงูู ุจุงุณุชุฎุฏุงู `setInterval`ุ ููุญุฏุซ ุงูุญุงูุฉ ุงูุชู ุชุฑุงูุจูุง ููููุงุช ุงููุงุฌูุฉ.

### 4. **ููููุงุช ุงูุชูุงุฑูุฑ**
- **`ResultsDashboardPage.tsx`** ูุณุชูุจู `reportId`ุ ูุฌูุจ ุงูุชูุฑูุฑ ุงููุงูู ูู `reportStore`ุ ูููุฑุฑู ุฅูู ููููุงุช ุงูุนุฑุถ ุงููุฑุนูุฉ ูุซู `StrategicSummary`, `MediaPlan`, ุฅูุฎ.

---

## ๐ฏ ุฃููุงุน ุงููููุงุช ูุงููุธุงุฆู

- **๐ฑ ุงูุตูุญุงุช (Pages)**: ููุงุท ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ ููุชุทุจูู (`HomePage`, `ResultsDashboardPage`).
- **๐งฉ ุงูููููุงุช (Components)**: ุนูุงุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู (`Button`, `Card`, `MediaPlan`).
- **โ๏ธ ุงููุญุฑู (Engine)**: ููุทู ุงูุนูู ุงูุฃุณุงุณู (`prepilotEngine`, `kpiCalculator`).
- **๐ง ุงูุฎุฏูุงุช (Services)**: ูุธุงุฆู ูุณุงุนุฏุฉ ููุฑูุฒูุฉ (`aiClient`, `exportManager`).
- **๐ ุงูุฃููุงุน (Types)**: ุชุนุฑููุงุช TypeScript ููุจูุงูุงุช (`CampaignData`, `CampaignReport`).
- **๐ช ุงููุชุงุฌุฑ (Stores)**: ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ ุจุงุณุชุฎุฏุงู Zustand (`reportStore`, `exportStore`).

---

## ๐ ุฅุญุตุงุฆูุงุช ุงููุดุฑูุน ุงููุญุฏุซุฉ

- **๐ ุฅุฌูุงูู ุงููุฌูุฏุงุช**: ~30 ูุฌูุฏ
- **๐ ุฅุฌูุงูู ุงููููุงุช**: ~150 ููู TypeScript/TSX
- **๐งฉ ุงูููููุงุช**: ~60 ูููู React
- **โ๏ธ ุงููุญุฏุงุช**: ~25 ูุญุฏุฉ ููุทู
- **๐งช ุงูุงุฎุชุจุงุฑุงุช**: 2 ูููุงุช ุงุฎุชุจุงุฑ
- **๐ ุงูุฃููุงุน**: 6 ูููุงุช ุชุนุฑูู

---

*ุชู ุฅูุดุงุก ูุฐู ุงูุดุฌุฑุฉ ูู: ${new Date().toLocaleDateString('ar-SA')}*
*ุขุฎุฑ ุชุญุฏูุซ: ${new Date().toLocaleString('ar-SA')}*
